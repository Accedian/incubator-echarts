
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t((e=e||self).dataTool={},e.echarts)}(this,(function(e,t){"use strict";var r=Array.prototype.map;function a(e,t,a){if(e&&t){if(e.map&&e.map===r)return e.map(t,a);for(var o=[],n=0,i=e.length;n<i;n++)o.push(t.call(a,e[n],n,e));return o}}function o(e,t){return e?a(u(e,"node"),(function(e){var r={id:i(e,"id"),name:i(e,"label"),itemStyle:{normal:{}}},a=l(e,"viz:size"),o=l(e,"viz:position"),n=l(e,"viz:color"),s=l(e,"attvalues");if(a&&(r.symbolSize=parseFloat(i(a,"value"))),o&&(r.x=parseFloat(i(o,"x")),r.y=parseFloat(i(o,"y"))),n&&(r.itemStyle.normal.color="rgb("+[0|i(n,"r"),0|i(n,"g"),0|i(n,"b")].join(",")+")"),s){var f=u(s,"attvalue");r.attributes={};for(var p=0;p<f.length;p++){var c=f[p],d=i(c,"for"),v=i(c,"value"),g=t[d];if(g){switch(g.type){case"integer":case"long":v=parseInt(v,10);break;case"float":case"double":v=parseFloat(v);break;case"boolean":v="true"===v.toLowerCase()}r.attributes[d]=v}}}return r})):[]}function n(e){return e?a(u(e,"edge"),(function(e){var t={id:i(e,"id"),name:i(e,"label"),source:i(e,"source"),target:i(e,"target"),lineStyle:{normal:{}}},r=t.lineStyle.normal,a=l(e,"viz:thickness"),o=l(e,"viz:color");return a&&(r.width=parseFloat(a.getAttribute("value"))),o&&(r.color="rgb("+[0|i(o,"r"),0|i(o,"g"),0|i(o,"b")].join(",")+")"),t})):[]}function i(e,t){return e.getAttribute(t)}function l(e,t){for(var r=e.firstChild;r;){if(1===r.nodeType&&r.nodeName.toLowerCase()===t.toLowerCase())return r;r=r.nextSibling}return null}function u(e,t){for(var r=e.firstChild,a=[];r;)r.nodeName.toLowerCase()===t.toLowerCase()&&a.push(r),r=r.nextSibling;return a}var s=Object.freeze({parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var r=l(t,"gexf");if(!r)return null;for(var s,f=l(r,"graph"),p=(s=l(f,"attributes"))?a(u(s,"attribute"),(function(e){return{id:i(e,"id"),title:i(e,"title"),type:i(e,"type")}})):[],c={},d=0;d<p.length;d++)c[p[d].id]=p[d];return{nodes:o(l(f,"nodes"),c),links:n(l(f,"edges"))}}});function f(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),o=+e[a-1],n=r-a;return n?o+n*(e[a]-o):o}function p(e,t){for(var r,a=[],o=[],n=[],i=(t=t||[]).boundIQR,l="none"===i||0===i,u=0;u<e.length;u++){n.push(u+"");var s=((r=e[u].slice()).sort((function(e,t){return e-t})),r),p=f(s,.25),c=f(s,.5),d=f(s,.75),v=s[0],g=s[s.length-1],h=(null==i?1.5:i)*(d-p),b=l?v:Math.max(v,p-h),m=l?g:Math.min(g,d+h);a.push([b,p,c,d,m]);for(var y=0;y<s.length;y++){var x=s[y];if(x<b||x>m){var w=[u,x];"vertical"===t.layout&&w.reverse(),o.push(w)}}}return{boxData:a,outliers:o,axisData:n}}t.dataTool&&(t.dataTool.version="1.0.0",t.dataTool.gexf=s,t.dataTool.prepareBoxplotData=p),e.version="1.0.0",e.gexf=s,e.prepareBoxplotData=p,Object.defineProperty(e,"__esModule",{value:!0})}));
